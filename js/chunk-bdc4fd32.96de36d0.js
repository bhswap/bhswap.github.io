(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bdc4fd32","chunk-2d0c0be3"],{"01da":function(t,s,e){t.exports=e.p+"img/miningBall.15dc6ab4.svg"},"0535":function(t,s,e){t.exports=e.p+"img/plus.733cbb8f.svg"},"097a":function(t,s,e){t.exports=e.p+"img/router.e489826a.svg"},1116:function(t,s,e){t.exports=e.p+"img/addLiquidity.025b2334.svg"},"16b3":function(t,s,e){t.exports=e.p+"img/mining-info.a7d76b73.svg"},"16e0":function(t,s,e){t.exports=e.p+"img/invitationCard.397cced3.svg"},2764:function(t,s,e){t.exports=e.p+"img/success.b13acfd5.svg"},"2db2":function(t,s,e){t.exports=e.p+"img/bbglogo.0d5e05e2.svg"},"2f0b":function(t,s,e){t.exports=e.p+"img/exchange.030b46fc.svg"},3005:function(t,s,e){"use strict";e("c7d7")},"31e8":function(t,s,e){var n={"./Bnb.svg":"9b7f","./QRcodelogo.svg":"507c","./add.svg":"eef4","./addLiquidity.svg":"1116","./apy-bg.svg":"5dc4","./arraw.svg":"1d4a","./award-bg.svg":"66a7","./bbglogo.svg":"2db2","./buy.svg":"f3f6","./copy.svg":"553b","./countdown.svg":"ceca","./dao/bg.svg":"ccfc","./dao/plus.svg":"0535","./dao/title-bg.svg":"c041","./downarrow.svg":"4995","./en.svg":"bc04","./exchange.svg":"2f0b","./icon-exchange.svg":"5605","./info.svg":"07e6","./invitationCard.svg":"16e0","./invitelistAddress.svg":"8dd5","./ja.svg":"19ca","./ko.svg":"ed4a","./liquidity.svg":"6501","./logo.svg":"9b19","./menu.svg":"36be","./mining-info.svg":"16b3","./miningBall.svg":"01da","./miningBottom.svg":"f9d4","./miningBubbleTop.svg":"da4c","./next-light.svg":"949e","./not-trade.svg":"c5f5","./overlayBg.svg":"b746","./polygon.svg":"c8b2","./pools.svg":"92c4","./prev-dark.svg":"e9c3","./rate.svg":"ab45","./reload.svg":"b318","./remove.svg":"7e18","./round.svg":"86ef","./router.svg":"097a","./sell.svg":"46d3","./setting.svg":"cc6c","./success.svg":"2764","./swap.svg":"3fb0","./swapTo.svg":"8242","./switch-token.svg":"7a79","./time.svg":"f490","./tokens-empty.svg":"42a0","./topBg.svg":"8a0c","./usdtlogo.svg":"870d","./wallet.svg":"bc38","./zh-hk.svg":"9115"};function o(t){var s=a(t);return e(s)}function a(t){if(!e.o(n,t)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=a,t.exports=o,o.id="31e8"},"42a0":function(t,s,e){t.exports=e.p+"img/tokens-empty.3b7fc633.svg"},"46d3":function(t,s,e){t.exports=e.p+"img/sell.687ffac5.svg"},4995:function(t,s,e){t.exports=e.p+"img/downarrow.3dc9d2e1.svg"},"507c":function(t,s,e){t.exports=e.p+"img/QRcodelogo.fdf1ae12.svg"},"553b":function(t,s,e){t.exports=e.p+"img/copy.1cab5f60.svg"},5605:function(t,s,e){t.exports=e.p+"img/icon-exchange.70b56ba8.svg"},"5dc4":function(t,s,e){t.exports=e.p+"img/apy-bg.12163583.svg"},"66a7":function(t,s,e){t.exports=e.p+"img/award-bg.335b07d8.svg"},"797b":function(t,s,e){"use strict";e.r(s);var n=function(){var t=this,s=t._self._c;t._self._setupProxy;return s("div",{staticClass:"info"},[s("div",{staticClass:"introduce"},[s("div",{staticClass:"header"},[s("div",{staticClass:"token"},[s("img",{staticClass:"token-logo",attrs:{src:t.token1.logoURI}}),s("div",{staticClass:"token-info"},[s("div",{on:{click:t.openSearch}},[s("h2",[t._v(t._s(t.token1.symbol))]),s("img",{attrs:{src:e("1d4a")}})]),s("span",[t._v(t._s(t.token1.name))])])]),s("div",{staticClass:"address"},[s("span",{domProps:{textContent:t._s(`${t.token1.address.slice(0,5)}...${t.token1.address.slice(-5)}`)}}),s("img",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.token1.address,expression:"token1.address",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.copyDone,expression:"copyDone",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.copyError,expression:"copyError",arg:"error"}],attrs:{src:e("553b")}})])]),s("div",{staticClass:"liquidity"},[s("span",[t._v(t._s(t.$t("info.text1"))+" "),s("span",[t._v("$ "+t._s(t.reserveUSD))])]),s("div",{staticClass:"tokens"},[s("div",[s("div",{staticClass:"select",on:{click:function(s){t.showToken0Options=!0}}},[s("span",[t._v(t._s(t.token0.symbol))]),s("img",{attrs:{src:e("1d4a")}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showToken0Options,expression:"showToken0Options"}],staticClass:"options"},t._l(t.token0Options,(function(e){return s("span",{key:e.address,domProps:{textContent:t._s(e.symbol)},on:{click:function(s){return s.stopPropagation(),t.selectToken0(e)}}})})),0),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showToken0Options,expression:"showToken0Options"}],staticClass:"overlay",on:{click:function(s){s.stopPropagation(),t.showToken0Options=!1}}})]),s("span",[t._v(t._s(t.reserve0))])]),s("div",[s("span",[t._v(t._s(t.token1.symbol))]),s("span",[t._v(t._s(t.reserve1))])])])])]),s("div",{staticClass:"datas"},[s("div",[s("span",[t._v(t._s(t.$t("info.text6")))]),s("span",[t._v(t._s(t.transactions))])]),s("div",[s("span",[t._v(t._s(t.$t("info.text7")))]),s("span",[t._v("$ "+t._s(t.volume))])])]),s("div",{staticClass:"latest-transactions"},[s("div",{staticClass:"header"},[s("span",[t._v(t._s(t.$t("info.text8")))]),s("div",{staticClass:"filter",on:{click:function(s){t.showOptions=!0}}},[s("img",{attrs:{src:e("1d4a")}}),s("span",[t._v(t._s(t.$t("info.text9")))]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showOptions,expression:"showOptions"}],staticClass:"options"},[s("span",{on:{click:function(s){return s.stopPropagation(),t.selectType("all")}}},[t._v(t._s(t.$t("info.text14")))]),s("span",{on:{click:function(s){return s.stopPropagation(),t.selectType("sell")}}},[t._v(t._s(t.$t("info.text11")))]),s("span",{on:{click:function(s){return s.stopPropagation(),t.selectType("buy")}}},[t._v(t._s(t.$t("info.text10")))]),s("span",{on:{click:function(s){return s.stopPropagation(),t.selectType("add")}}},[t._v(t._s(t.$t("info.text12")))]),s("span",{on:{click:function(s){return s.stopPropagation(),t.selectType("remove")}}},[t._v(t._s(t.$t("info.text13")))])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showOptions,expression:"showOptions"}],staticClass:"overlay",on:{click:function(s){s.stopPropagation(),t.showOptions=!1}}})]),s("img",{class:t.reloadClass,attrs:{src:e("b318")},on:{click:t.reload}})]),s("div",{staticClass:"transactions"},t._l(t.transactionsList[t.currentPage],(function(n,o){return s("div",{key:o},[s("div",[s("span",{directives:[{name:"show",rawName:"v-show",value:"buy"===n.type,expression:"item.type === 'buy'"}],class:n.type},[t._v(t._s(t.$t("info.text10")))]),s("span",{directives:[{name:"show",rawName:"v-show",value:"sell"===n.type,expression:"item.type === 'sell'"}],class:n.type},[t._v(t._s(t.$t("info.text11")))]),s("span",{directives:[{name:"show",rawName:"v-show",value:"add"===n.type,expression:"item.type === 'add'"}],class:n.type},[t._v(t._s(t.$t("info.text12")))]),s("span",{directives:[{name:"show",rawName:"v-show",value:"remove"===n.type,expression:"item.type === 'remove'"}],class:n.type},[t._v(t._s(t.$t("info.text13")))]),s("span",[t._v(t._s(n.amount0.toFixed(4))+" "+t._s(t.token1.symbol))])]),s("img",{class:n.type,attrs:{src:e("31e8")(`./${n.type}.svg`)}}),s("div",[s("span",[t._v(t._s(n.time))]),s("span",[t._v(t._s(n.amount1.toFixed(4))+" "+t._s(t.token0.symbol))])])])})),0),s("div",{staticClass:"pagination"},[s("img",{attrs:{src:e("e9c3")},on:{click:t.prevPage}}),s("span",[t._v(t._s(t.currentPage+1)+"/"+t._s(t.totalPage))]),s("img",{attrs:{src:e("949e")},on:{click:t.nextPage}})])]),s("search-tokens",{ref:"searchTokens",on:{select:t.selectToken1}})],1)},o=[],a=(e("e7e5"),e("d399")),i=e("b9cc"),r=e("b4e9"),c=e("2f62"),p=e("01b1"),d={components:{"search-tokens":()=>Promise.all([e.e("chunk-12484184"),e.e("chunk-2d0c2308")]).then(e.bind(null,"bab4"))},data(){return{reloadClass:"",token0:null,token1:null,reserve0:0,reserve1:0,reserveUSD:0,transactions:0,volume:0,type:"all",tradeList:[],currentPage:0,pairAddress:null,flag:!0,showOptions:!1,token0Options:[],showToken0Options:!1}},computed:{...Object(c["b"])(["chainId"]),transactionsList(){const t="all"===this.type?this.tradeList:this.tradeList.filter(t=>t.type===this.type),s=[];for(let e=0;e<t.length;e+=10)s.push(t.slice(e,e+10));return s},totalPage(){return this.transactionsList.length}},created(){const t=p["a"][this.chainId];this.token0=t.mainCoin,this.token0Options=p["e"][this.chainId],137===this.chainId?this.token1=t.token1:this.token1=t.token0,this.$contracts&&this.init()},methods:{copyDone(){a["a"].success("复制成功！")},copyError(t){console.log(t),a["a"].fail("复制失败！")},selectType(t){this.type=t,this.showOptions=!1},openSearch(){this.$refs.searchTokens.open()},selectToken0(t){if(this.showToken0Options=!1,t.symbol===this.token1.symbol)return!1;this.token0=t,this.init()},selectToken1(t){if(t.symbol===this.token0.symbol)return!1;this.token1=t;const s=[];for(let e=0;e<this.token0Options.length;e++)s.push([this.$contracts.Factory.options.address,this.$contracts.Factory.methods.getPair(this.token0Options[e].address,t.address).encodeABI()]);this.$contracts.Multicall.methods.aggregate(s).call({from:this.$address},(t,s)=>{if(!t){const t=[],e=[],n=new this.$web3.eth.Contract(i,this.token1.address);for(let o=0;o<s.returnData.length;o++)s.returnData[o].toBN().lte(0)||(t.push(this.token0Options[o]),e.push([this.token1.address,n.methods.balanceOf(s.returnData[o].decode(["address"])).encodeABI()]));this.$contracts.Multicall.methods.aggregate(e).call({from:this.$address},(s,e)=>{if(!s){let s,n="0".toBN();for(let o=0;o<e.returnData.length;o++)n.lt(e.returnData[o])&&(n=e.returnData[o].toBN(),s=t[o]);s.symbol!==this.token0.symbol?this.selectToken0(s):this.init()}})}})},reload(){this.reloadClass="reload",this.getTransactions(this.pairAddress,this.flag);const t=setTimeout(()=>{this.type="all",this.currentPage=0,this.reloadClass="",clearTimeout(t)},1e3)},prevPage(){if(0===this.currentPage)return!1;this.currentPage--},nextPage(){if(this.currentPage+1===this.totalPage)return!1;this.currentPage++},init(){this.tradeList=[];const t=new this.$web3.BatchRequest,s=new this.$web3.eth.Contract(i,this.token0.address),e=new this.$web3.eth.Contract(i,this.token1.address);this.$contracts.Factory.methods.getPair(this.token0.address,this.token1.address).call({from:this.$address},(n,o)=>{if(!n){if(0===Number(o))return!1;this.flag=this.token0.address.toBN().lt(this.token1.address),this.pairAddress=o.toLowerCase(),this.reserveUSD="loading...",this.transactions="loading...",this.volume="loading...";const n=p["c"][this.chainId];Object(r["c"])(this.pairAddress,n).then(t=>{t&&(this.reserveUSD=t.reserveUSD.toFixed(0))}),Object(r["a"])(this.pairAddress,n,this.chainId).then(t=>{if(t){let s="0".toBN(),e="0".toBN();137===this.chainId?t.hourData.forEach(t=>{s=s.plus(t.txCount),e=e.plus(t.volumeUSD)}):t.pairHourData.forEach(t=>{s=s.plus(t.hourlyTxns),e=e.plus(t.hourlyVolumeUSD)}),this.transactions=s.toFixed(),this.volume=e.toFixed().toFixed(0)}}),t.add(s.methods.balanceOf(this.pairAddress).call.request({from:this.$address})),t.add(e.methods.balanceOf(this.pairAddress).call.request({from:this.$address})),t.requestManager.sendBatch(t.requests,(t,s)=>{t||(this.reserve0=("string"===typeof s[0]?s[0]:s[0].result).decode(["uint256"]).fromWei(this.token0.decimals).toFixed(0),this.reserve1=s[1].result.decode(["uint256"]).fromWei(this.token1.decimals).toFixed(0))}),this.getTransactions(this.pairAddress,this.flag)}})},formatData(t){const s=Math.floor(new Date/1e3)-Number(t);return s<60?s+"秒前":Math.floor(s/60)<60?Math.floor(s/60)+"分钟前":Math.floor(s/3600)<24?Math.floor(s/3600)+"小时前":Math.floor(s/3600/24)+"天前"},async getTransactions(t,s){const{burns:e,mints:n,swaps:o}=await Object(r["b"])(t,p["c"][this.chainId]),a=[];e.forEach(t=>{a.push({type:"remove",amount0:t["amount"+Number(s)],amount1:t["amount"+Number(!s)],timestamp:Number(t.timestamp),hash:t.id.split("-")[0],time:this.formatData(t.timestamp)})}),n.forEach(t=>{a.push({type:"add",amount0:t["amount"+Number(s)],amount1:t["amount"+Number(!s)],timestamp:Number(t.timestamp),hash:t.id.split("-")[0],time:this.formatData(t.timestamp)})}),s?o.forEach(t=>{t.amount0In>0?a.push({type:"buy",amount0:t.amount1Out,amount1:t.amount0In,timestamp:Number(t.timestamp),hash:t.id.split("-")[0],time:this.formatData(t.timestamp)}):a.push({type:"sell",amount0:t.amount1In,amount1:t.amount0Out,timestamp:Number(t.timestamp),hash:t.id.split("-")[0],time:this.formatData(t.timestamp)})}):o.forEach(t=>{t.amount1In>0?a.push({type:"buy",amount0:t.amount0Out,amount1:t.amount1In,timestamp:Number(t.timestamp),hash:t.id.split("-")[0],time:this.formatData(t.timestamp)}):a.push({type:"sell",amount0:t.amount0In,amount1:t.amount1Out,timestamp:Number(t.timestamp),hash:t.id.split("-")[0],time:this.formatData(t.timestamp)})}),this.tradeList=a.sort((t,s)=>s.timestamp-t.timestamp)}}},u=d,l=u,m=(e("3005"),e("2877")),h=Object(m["a"])(l,n,o,!1,null,"5e66d046",null);s["default"]=h.exports},"7a79":function(t,s,e){t.exports=e.p+"img/switch-token.a06b342b.svg"},"7e18":function(t,s,e){t.exports=e.p+"img/remove.4f2b882c.svg"},8242:function(t,s,e){t.exports=e.p+"img/swapTo.50af4a4a.svg"},"86ef":function(t,s,e){t.exports=e.p+"img/round.f457c6f9.svg"},"870d":function(t,s,e){t.exports=e.p+"img/usdtlogo.bb5274f9.svg"},"8a0c":function(t,s,e){t.exports=e.p+"img/topBg.1ad0aa34.svg"},"8dd5":function(t,s,e){t.exports=e.p+"img/invitelistAddress.7e9b5f0c.svg"},"949e":function(t,s,e){t.exports=e.p+"img/next-light.1aeebeb0.svg"},ab45:function(t,s,e){t.exports=e.p+"img/rate.5f17f97f.svg"},b318:function(t,s,e){t.exports=e.p+"img/reload.56a7318d.svg"},b4e9:function(t,s,e){"use strict";e.d(s,"e",(function(){return d})),e.d(s,"c",(function(){return u})),e.d(s,"a",(function(){return l})),e.d(s,"b",(function(){return m})),e.d(s,"d",(function(){return h}));e("caad");function n(t){return JSON.stringify({query:`query pair {\n            pair(id: "${t}") {\n                reserveUSD\n            }\n        }`})}function o(t,s){const e=3600*Math.floor(new Date/1e3/3600);return JSON.stringify({query:137===s?`query pair {\n            pair(id: "${t}") {\n                hourData(\n                    where: {\n                        date_gte: ${e-86400}\n                        date_lte: ${e}\n                    }\n                ) {\n                    volumeUSD\n                    txCount\n                }\n            }\n        }`:`query pair {\n            pair(id: "${t}") {\n                pairHourData(\n                    where: {\n                        hourStartUnix_gte: ${e-86400}\n                        hourStartUnix_lte: ${e}\n                    }\n                ) {\n                    hourlyVolumeUSD\n                    hourlyTxns\n                }\n            }\n        }`})}function a(t){return JSON.stringify({query:"query poolTransactions($address: Bytes!) {\n            mints(first: 35, orderBy: timestamp, orderDirection: desc, where: {\n                pair: $address\n            }) {\n                id\n                timestamp\n                amount0\n                amount1\n            }\n            swaps(first: 35, orderBy: timestamp, orderDirection: desc, where: {\n                pair: $address\n            }) {\n                id\n                timestamp\n                amount0In\n                amount1In\n                amount0Out\n                amount1Out\n            }\n            burns(first: 35, orderBy: timestamp, orderDirection: desc, where: {\n                pair: $address\n            }) {\n                id\n                timestamp\n                amount0\n                amount1\n            }\n        }",variables:{address:t}})}const i=t=>`https://api.bscscan.com/api?module=account&action=txlist&address=${t}&startblock=0&endblock=latest&sort=desc&apikey=YourApiKeyToken`,r=["0x18cbafe5","0x7ff36ab5","0x38ed1739"];async function c(t,s){const e=s?await fetch(t,{cache:"reload",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:s}):await fetch(t,{cache:"reload"});return await e.json()}async function p(t){return(await c(i(t))).result}async function d(t){const s=await p(t);return s.filter(t=>r.includes(t.input.slice(0,10)))}async function u(t,s){return(await c(s,n(t))).data.pair}async function l(t,s,e){const n=await c(s,o(t,e));return n.errors?null:n.data.pair}async function m(t,s){return(await c(s,a(t))).data}function h(t,s,e){const n=e.filter(e=>![t.symbol,s.symbol].includes(e.symbol)),o=[[t,s]];for(let a=0;a<n.length;a++){o.push([t,n[a],s]);for(let e=a+1;e<n.length;e++)o.push([t,n[a],n[e],s]),o.push([t,n[e],n[a],s])}return o}},b746:function(t,s,e){t.exports=e.p+"img/overlayBg.0f8ca717.svg"},bc38:function(t,s,e){t.exports=e.p+"img/wallet.30bdd8fa.svg"},c041:function(t,s,e){t.exports=e.p+"img/title-bg.8193df55.svg"},c5f5:function(t,s,e){t.exports=e.p+"img/not-trade.d9865208.svg"},c7d7:function(t,s,e){},ccfc:function(t,s,e){t.exports=e.p+"img/bg.58c656c4.svg"},ceca:function(t,s,e){t.exports=e.p+"img/countdown.23d92b93.svg"},da4c:function(t,s,e){t.exports=e.p+"img/miningBubbleTop.ac0aafc5.svg"},e9c3:function(t,s,e){t.exports=e.p+"img/prev-dark.47721052.svg"},eef4:function(t,s,e){t.exports=e.p+"img/add.19822149.svg"},f3f6:function(t,s,e){t.exports=e.p+"img/buy.6c71700e.svg"},f490:function(t,s,e){t.exports=e.p+"img/time.8fb1abaf.svg"},f9d4:function(t,s,e){t.exports=e.p+"img/miningBottom.6b31fc4f.svg"}}]);